<!doctype html>
<html lang="it" class="h-full">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="theme-color" content="#0000ff">
  <title>Benvenuti!</title>
  <script src="/_sdk/element_sdk.js"></script>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Archivo+Black&display=swap');
    @import url('https://fonts.googleapis.com/css2?family=Questrial&display=swap');
    
    body {
      box-sizing: border-box;
    }
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    html, body {
      height: 100%;
      width: 100%;
    }
    
    .page-container {
      width: 100%;
      height: 100%;
      background-image: url('https://raw.githubusercontent.com/mariocassetta17/immagini-app-arco/refs/heads/main/Sfondo%20app%20arco.png');
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      overflow: auto;
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
    }
    
    .logo-container {
      position: absolute;
      top: 20px;
      left: 50%;
      transform: translateX(-50%);
      z-index: 10;
    }
    
    .logo {
      max-width: 250px;
      height: auto;
      display: block;
    }
    
    .neon-text {
      font-family: 'Archivo Black', sans-serif;
      font-size: clamp(45px, 9vw, 100px);
      color: #0000ff;
      text-align: center;
      padding: 0 20px;
      text-shadow: 
        0 0 10px #00ffff,
        0 0 20px #00ffff,
        0 0 30px #00ffff,
        0 0 40px #00ffff,
        0 0 70px #00ffff,
        0 0 80px #00ffff,
        0 0 100px #00ffff,
        0 0 150px #00ffff;
      margin-bottom: 80px;
    }
    
    .neon-rectangle {
      background-color: #ffffff;
      border-radius: 100px;
      width: 300px;
      height: 80px;
      box-shadow: 
        0 0 10px #00ffff,
        0 0 20px #00ffff,
        0 0 30px #00ffff,
        0 0 40px #00ffff,
        0 0 60px #00ffff,
        0 0 80px #00ffff;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 10px;
    }
    
    .inner-rectangle {
      background-color: #ffffff;
      border: 1px solid #ff00ff;
      border-radius: 100px;
      width: 100%;
      height: 100%;
      cursor: pointer;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    
    .button-text {
      font-family: 'Questrial', sans-serif;
      font-size: 24px;
      color: #0000ff;
      text-shadow: 
        0 0 5px #00ffff,
        0 0 10px #00ffff,
        0 0 15px #00ffff,
        0 0 20px #00ffff,
        0 0 30px #00ffff,
        0 0 40px #00ffff;
    }
    
    .inner-rectangle:hover {
      background-color: #ff00ff;
      transform: scale(1.05);
    }
    
    .inner-rectangle:hover .button-text {
      color: #ffffff;
    }
    
    .content-wrapper {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
    }
    
    .modal-overlay {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.7);
      z-index: 1000;
      align-items: center;
      justify-content: center;
    }
    
    .modal-overlay.active {
      display: flex;
    }
    
    .modal-content {
      background-color: #ffffff;
      border-radius: 20px;
      padding: 40px;
      box-shadow: 
        0 0 10px #00ffff,
        0 0 20px #00ffff,
        0 0 30px #00ffff;
      text-align: center;
      max-width: 400px;
      width: 90%;
    }
    
    .modal-title {
      font-family: 'Archivo Black', sans-serif;
      font-size: 24px;
      color: #0000ff;
      margin-bottom: 30px;
      text-shadow: 
        0 0 5px #00ffff,
        0 0 10px #00ffff,
        0 0 15px #00ffff,
        0 0 20px #00ffff,
        0 0 30px #00ffff,
        0 0 40px #00ffff;
    }
    
    .modal-buttons {
      display: flex;
      gap: 20px;
      justify-content: center;
    }
    
    .modal-button {
      background-color: #ffffff;
      border: 2px solid #ff00ff;
      border-radius: 50px;
      padding: 15px 40px;
      font-family: 'Questrial', sans-serif;
      font-size: 18px;
      color: #0000ff;
      cursor: pointer;
      transition: all 0.3s ease;
      text-shadow: 
        0 0 5px #00ffff,
        0 0 10px #00ffff,
        0 0 15px #00ffff,
        0 0 20px #00ffff;
    }
    
    .modal-button:hover {
      background-color: #ff00ff;
      color: #ffffff;
      transform: scale(1.05);
    }
  </style>
  <style>@view-transition { navigation: auto; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
  <script src="https://cdn.tailwindcss.com" type="text/javascript"></script>
 </head>
 <body class="h-full">
  <div class="page-container">
   <div class="logo-container"><img src="https://raw.githubusercontent.com/mariocassetta17/immagini-app-arco/refs/heads/main/logo-app.png" alt="Logo" class="logo" onerror="this.src=''; this.alt='Logo non disponibile'; this.style.display='none';">
   </div>
   <div class="content-wrapper">
    <h1 class="neon-text">BENVENUTO!</h1>
    <div class="neon-rectangle">
     <div class="inner-rectangle" id="clickableButton"><span class="button-text">Scarica l'APP!</span>
     </div>
    </div>
   </div>
  </div>
  <div class="modal-overlay" id="modalOverlay">
   <div class="modal-content">
    <h2 class="modal-title">SELEZIONA IL TUO SISTEMA OPERATIVO</h2>
    <div class="modal-buttons"><button class="modal-button" id="androidBtn">Android</button> <button class="modal-button" id="iosBtn">iOS</button>
    </div>
   </div>
  </div>
  <script>
    const defaultConfig = {
      background_opacity: 0
    };

    async function onConfigChange(config) {
      // Configurazione vuota per ora
    }

    function mapToCapabilities(config) {
      return {
        recolorables: [],
        borderables: [],
        fontEditable: undefined,
        fontSizeable: undefined
      };
    }

    function mapToEditPanelValues(config) {
      return new Map();
    }

    if (window.elementSdk) {
      window.elementSdk.init({
        defaultConfig,
        onConfigChange,
        mapToCapabilities,
        mapToEditPanelValues
      });
    }

    // Link per Android e iOS
    const ANDROID_LINK = 'https://github.com/mariocassetta17/installa-app-aro/releases/download/v1.0/app-debug.apk';
    const IOS_LINK = 'https://apps.apple.com/'; // Link 2 - Sostituisci con il tuo link iOS

    // Funzione per rilevare il sistema operativo
    function detectOS() {
      const userAgent = navigator.userAgent || navigator.vendor || window.opera;
      
      // Rileva iOS
      if (/iPad|iPhone|iPod/.test(userAgent) && !window.MSStream) {
        return 'iOS';
      }
      
      // Rileva Android
      if (/android/i.test(userAgent)) {
        return 'Android';
      }
      
      return 'Unknown';
    }

    // Funzione per aprire il link
    function openLink(os) {
      if (os === 'iOS') {
        window.open(IOS_LINK, '_blank', 'noopener,noreferrer');
      } else if (os === 'Android') {
        window.open(ANDROID_LINK, '_blank', 'noopener,noreferrer');
      }
    }

    // Gestione click sul bottone principale
    document.getElementById('clickableButton').addEventListener('click', function() {
      const os = detectOS();
      
      if (os === 'Unknown') {
        // Mostra il modal per la selezione manuale
        document.getElementById('modalOverlay').classList.add('active');
      } else {
        // Apri direttamente il link corretto
        openLink(os);
      }
    });

    // Gestione click sui bottoni del modal
    document.getElementById('androidBtn').addEventListener('click', function() {
      openLink('Android');
      document.getElementById('modalOverlay').classList.remove('active');
    });

    document.getElementById('iosBtn').addEventListener('click', function() {
      openLink('iOS');
      document.getElementById('modalOverlay').classList.remove('active');
    });

    // Chiudi il modal cliccando fuori
    document.getElementById('modalOverlay').addEventListener('click', function(e) {
      if (e.target === this) {
        this.classList.remove('active');
      }
    });
  </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9b9c8b281057ea3c',t:'MTc2NzcxNjQzNS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
